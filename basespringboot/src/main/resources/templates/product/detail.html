<!DOCTYPE html>
<html lang="vi" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
>
<head>
    <meta charset="UTF-8">
    <title th:text="#{product.product-detail}"></title>
    <th:block th:replace="~{/layout::linkBootStrap}"></th:block>
</head>
<body>
<th:block th:replace="~{/layout::header}"></th:block>
<div class="container">
    <h1 class="text-center text-primary mt-3 mb-3" th:text="#{product.product-detail}"></h1>
    <div class="row d-flex justify-content-center">
        <div class="card col-6 mb-5" style="box-shadow: #ccc -6px -3px 14px 8px">
            <h5 class="card-title text-center" style="font-size: 40px" th:text="${productDTO.name}"></h5>
            <div class="product-image">

                <!-- Main Image -->
                <img th:each="image : ${productDTO.images}"
                     style="width:100%; height: 400px"
                     th:src="@{/image/__${image.storePath+image.originalFileName}__}"
                     th:if="${image.isMainImage()
                                && image.originalFileName != null
                                && image.originalFileName != ''
                                }"
                     class="d-flex justify-content-center"
                >

                <!-- Detail Images -->
                <div class="row d-flex justify-content-center">
                    <img th:each="image : ${productDTO.images}"
                         class="col-4 p-3"
                         th:if="${
                            !image.isMainImage()
                            && image.originalFileName != null
                            && image.originalFileName != ''
                            }"
                         style="width:150px; height: 150px"
                         th:src="@{/image/__${image.storePath+image.originalFileName}__}"
                    >
                </div>
            </div>

            <div class="card-body">
                <p class="card-text text-center"
                   th:text="${#numbers.formatDecimal(productDTO.price,0,'COMMA',0,'POINT') + ' VNĐ'}"></p>
                <p class="card-text text-center" th:text="${productDTO.description}"></p>
                <form method="post" th:action="@{/cart/add-product/__${productDTO.id}__}">
                    <button
                            type="submit"
                            style="align-items: center; margin: 0 auto; max-width: 150px"
                            class="d-flex text-center justify-content-center btn btn-primary">
                        <span th:text="#{product.add-to-cart}"></span> &nbsp;
                        <i class="fa-solid fa-cart-plus"></i>
                    </button>
                    <label style="margin-top: 10px;display: flex;justify-content: center">
                        <span th:text="#{product.quantity}"></span> : &nbsp;
                        <input
                                style="border: 1px solid #bbbbbb; outline: none ; max-width: 50px"
                                type="number"
                                value="1"
                                name="quantity"
                        />
                    </label>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>